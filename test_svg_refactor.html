<!DOCTYPE html>
<html>
<head>
    <title>SVG Refactor Test</title>
    <style>
        body { background-color: #333; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
    </style>
</head>
<body>
    <svg width="500" height="500" viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <style>
                @keyframes typewriter {
                    0% { width: 0; }
                    50% { width: 80px; }
                    80% { width: 80px; }
                    100% { width: 0; }
                }
                #block-clip-rect {
                    animation: typewriter 4s steps(8) infinite;
                }
            </style>
            <filter id="drop-shadow" x="-20%" y="-20%" width="140%" height="140%">
                <feDropShadow dx="4" dy="4" stdDeviation="5" flood-color="#000" flood-opacity="0.4"></feDropShadow>
            </filter>
            
        <linearGradient gradientTransform="rotate(-202, 0.5, 0.5)" x1="50%" y1="0%" x2="50%" y2="100%" id="gggrain-gradient2-base">
            <stop stop-color="#3c8aff" stop-opacity="1" offset="-0%"></stop>
            <stop stop-color="rgba(255,255,255,0)" stop-opacity="0" offset="100%"></stop>
        </linearGradient>
        <linearGradient gradientTransform="rotate(202, 0.5, 0.5)" x1="50%" y1="0%" x2="50%" y2="100%" id="gggrain-gradient3-base">
            <stop stop-color="#f9f7f1ff" stop-opacity="1"></stop>
            <stop stop-color="rgba(255,255,255,0)" stop-opacity="0" offset="40%"></stop>
        </linearGradient>
        <filter id="gggrain-filter-base" x="-20%" y="-20%" width="140%" height="140%" filterUnits="objectBoundingBox" primitiveUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feTurbulence type="fractalNoise" baseFrequency="0.63" numOctaves="2" seed="2" stitchTiles="stitch" result="turbulence"></feTurbulence>
            <feColorMatrix type="sate" values="0" in="turbulence" result="colormatrix"></feColorMatrix>
            <feComponentTransfer in="colormatrix" result="componentTransfer">
                <feFuncR type="linear" slope="3"></feFuncR>
                <feFuncG type="linear" slope="3"></feFuncG>
                <feFuncB type="linear" slope="3"></feFuncB>
            </feComponentTransfer>
            <feColorMatrix in="componentTransfer" result="colormatrix2" type="matrix" values="1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 20 -12"></feColorMatrix>
        </filter>
    
            <clipPath id="card-clip">
                <rect x="8" y="8" width="484" height="484" rx="15" ry="15"></rect>
            </clipPath>
            <clipPath id="block-clip">
                <rect id="block-clip-rect" x="35" y="50" height="20" width="80"></rect>
            </clipPath>
        </defs>
        
        <rect x="8" y="8" width="484" height="484" rx="15" ry="15" fill="transparent" filter="url(#drop-shadow)"></rect>

        <g clip-path="url(#card-clip)">
            
        <rect x="8" y="8" width="484" height="484" rx="15" ry="15" fill="#0000ff"></rect>
        <rect x="8" y="8" width="484" height="484" rx="15" ry="15" fill="url(#gggrain-gradient3-base)"></rect>
        <rect x="8" y="8" width="484" height="484" rx="15" ry="15" fill="url(#gggrain-gradient2-base)"></rect>
        <rect x="8" y="8" width="484" height="484" rx="15" ry="15" fill="transparent" filter="url(#gggrain-filter-base)" opacity="0.66" style="mix-blend-mode: soft-light"></rect>
    
        
            <g>
                <text x="450" y="90" font-family="sans-serif" font-size="70" text-anchor="end" fill="white">ðŸ˜„</text>
                <text x="35" y="45" font-family="monospace" font-size="14" fill="white" fill-opacity="0.7">minted on block</text>
                <g clip-path="url(#block-clip)">
                    <text x="35" y="65" font-family="monospace" font-size="16" fill="white" fill-opacity="0.8">#660125</text>
                </g>
                
                <!-- REPLACED foreignObject WITH NATIVE SVG TEXT -->
                <text x="250" y="180" font-family="Georgia, serif" font-size="18" fill="white" text-anchor="middle" style="text-shadow: -1px -1px 1px rgba(0,0,0,0.4), 1px 1px 1px rgba(255,255,255,0.15);">
                    <tspan x="250" dy="0">This is a much longer sample journal</tspan>
                    <tspan x="250" dy="24">entry designed to test the full</tspan>
                    <tspan x="250" dy="24">400-character capacity of the text</tspan>
                    <tspan x="250" dy="24">area. By filling this space, we can</tspan>
                    <tspan x="250" dy="24">ensure that the line wrapping, font</tspan>
                    <tspan x="250" dy="24">size, and overall layout remain</tspan>
                    <tspan x="250" dy="24">balanced and readable. It's important</tspan>
                    <tspan x="250" dy="24">to verify that the text doesn't</tspan>
                    <tspan x="250" dy="24">overflow or get cut off. This provides</tspan>
                    <tspan x="250" dy="24">a robust test case for the final design.</tspan>
                </text>
                
                 <text x="35" y="465" font-family="monospace" font-size="16" fill="white" fill-opacity="0.7" text-anchor="start">BASE</text>
                 <text x="465" y="465" font-family="monospace" font-size="16" fill="white" fill-opacity="0.7" text-anchor="end">MintMyMood</text>
            </g>
        </g>
    </svg>
</body>
</html>
